{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tommaso\\\\Desktop\\\\react-project\\\\client\\\\src\\\\components\\\\SearchRecipes.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { Box, Stack, Typography, Button, TextField, Switch } from '@mui/material';\nimport { recipesOptions, fetchData } from '../utils/fetchData';\nimport { fetchImage } from '../utils/fetchImage';\nimport HorizontalScrollBar from './HorizontalScrollBar';\nimport { ImprovedImageContext } from '../utils/Contexts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchRecipes = _ref => {\n  _s();\n  let {\n    setRecipes,\n    setIsLoading,\n    isLoading\n  } = _ref;\n  const [search, setSearch] = useState('');\n  const [randomRecipe, setRandomRecipe] = useState([]);\n  const {\n    improveImages,\n    setImproveImages\n  } = useContext(ImprovedImageContext);\n  useEffect(() => {\n    const fetchRandomData = async () => {\n      let randomNumber = Math.floor(Math.random() * 10000);\n      const fetchRandomRecipe = await fetchData(`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/complexSearch?diet=vegan&addRecipeInformation=false&offset=${randomNumber}&number=8`, recipesOptions);\n      if (improveImages) {}\n      setRandomRecipe([fetchRandomRecipe]);\n    };\n    fetchRandomData();\n  }, []);\n  async function handleSearch() {\n    if (search) {\n      const recipesData = await fetchData(`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/complexSearch?query=${search}&diet=vegan&type=maincourse&addRecipeInformation=true&sort=popularity&offset=0&number=2`, recipesOptions);\n      console.log(recipesData.results);\n      try {\n        let newRecipesData;\n        if (improveImages) {\n          setIsLoading(true);\n          newRecipesData = await Promise.all(recipesData.results.map(async elem => {\n            console.log(isLoading);\n            const newImage = await fetchImage(elem.title);\n            console.log(newImage);\n            return {\n              ...elem,\n              image: newImage.image\n            };\n          }));\n        } else {\n          newRecipesData = recipesData.results.map(elem => ({\n            ...elem\n          }));\n        }\n        setSearch('');\n        setRecipes(newRecipesData);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    ;\n  }\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    alignItems: \"center\",\n    mt: \"37px\",\n    justifyContent: \"center\",\n    p: \"20px\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      fontWeight: 700,\n      sx: {\n        fontSize: {\n          lg: '44px',\n          xs: '30px'\n        }\n      },\n      mb: \"50px\",\n      textAlign: \"center\",\n      children: [\"Awesome Recipes You \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }, this), \" Should Try\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      position: \"relative\",\n      mb: \"72px\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        sx: {\n          input: {\n            fontWeight: '700',\n            border: 'none',\n            borderRadius: '4px'\n          },\n          width: {\n            lg: '800px',\n            xs: '350px'\n          },\n          backgroundColor: '#fff',\n          borderRadius: '40px'\n        },\n        heigth: \"76px\",\n        value: search,\n        onChange: e => setSearch(e.target.value.toLowerCase()),\n        placeholder: \"Search Recipes\",\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"search-btn\",\n        sx: {\n          bgcolor: '#38b54a',\n          color: '#fff',\n          textTransform: 'none',\n          width: {\n            lg: '175px',\n            xs: '80px'\n          },\n          fontSize: {\n            lg: '20px',\n            xs: '14px'\n          },\n          height: '56px',\n          position: 'absolute',\n          right: '0'\n        },\n        onClick: handleSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        sx: {\n          position: 'absolute',\n          right: '-186px',\n          bottom: '10px'\n        },\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Switch\n        // color='warning'\n        , {\n          sx: {\n            color: '#fff',\n            textTransform: 'none'\n            // position: 'absolute',\n            // right: '-68px'\n          },\n\n          checked: improveImages,\n          onClick: () => {\n            setImproveImages(!improveImages);\n            console.log(improveImages);\n          },\n          inputProps: {\n            'aria-label': 'controlled'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          fontWeight: 600,\n          children: \"Improve images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'relative',\n        width: '100%',\n        p: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(HorizontalScrollBar, {\n        data: randomRecipe\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchRecipes, \"dMzgUL2wmlfnh74ivP+tjOb1Txg=\");\n_c = SearchRecipes;\nexport default SearchRecipes;\nvar _c;\n$RefreshReg$(_c, \"SearchRecipes\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Box","Stack","Typography","Button","TextField","Switch","recipesOptions","fetchData","fetchImage","HorizontalScrollBar","ImprovedImageContext","SearchRecipes","setRecipes","setIsLoading","isLoading","search","setSearch","randomRecipe","setRandomRecipe","improveImages","setImproveImages","fetchRandomData","randomNumber","Math","floor","random","fetchRandomRecipe","handleSearch","recipesData","console","log","results","newRecipesData","Promise","all","map","elem","newImage","title","image","fontSize","lg","xs","input","fontWeight","border","borderRadius","width","backgroundColor","e","target","value","toLowerCase","bgcolor","color","textTransform","height","position","right","bottom","p"],"sources":["C:/Users/Tommaso/Desktop/react-project/client/src/components/SearchRecipes.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { Box, Stack, Typography, Button, TextField, Switch } from '@mui/material';\r\n\r\nimport { recipesOptions, fetchData } from '../utils/fetchData';\r\nimport { fetchImage } from '../utils/fetchImage';\r\nimport HorizontalScrollBar from './HorizontalScrollBar';\r\nimport { ImprovedImageContext } from '../utils/Contexts';\r\n\r\nconst SearchRecipes = ({ setRecipes, setIsLoading, isLoading }) => {\r\n\r\n  const [search, setSearch] = useState('')\r\n  const [randomRecipe, setRandomRecipe] = useState([]);\r\n  const { improveImages, setImproveImages } = useContext(ImprovedImageContext);\r\n\r\n  useEffect(() => {\r\n    const fetchRandomData = async () => {\r\n      let randomNumber = Math.floor(Math.random() * 10000);\r\n      const fetchRandomRecipe = await fetchData(`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/complexSearch?diet=vegan&addRecipeInformation=false&offset=${randomNumber}&number=8`, recipesOptions);\r\n      if (improveImages) {\r\n\r\n      }\r\n      setRandomRecipe([fetchRandomRecipe]);\r\n    };\r\n    fetchRandomData();\r\n  }, [])\r\n  \r\n\r\n  async function handleSearch() {\r\n    if(search) {\r\n      const recipesData = await fetchData(`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/complexSearch?query=${search}&diet=vegan&type=maincourse&addRecipeInformation=true&sort=popularity&offset=0&number=2`, recipesOptions);\r\n      console.log(recipesData.results);\r\n      try {\r\n        let newRecipesData;\r\n        if (improveImages) { \r\n          setIsLoading(true);\r\n          newRecipesData = await Promise.all (recipesData.results.map(async (elem) => {\r\n            console.log(isLoading);\r\n            const newImage = await fetchImage(elem.title)\r\n            console.log(newImage);\r\n            return ({...elem, image: newImage.image})}));\r\n         } else {\r\n            newRecipesData = recipesData.results.map(elem => ({...elem}));\r\n          }\r\n  \r\n          setSearch('');\r\n          setRecipes(newRecipesData);\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n\r\n      };\r\n\r\n      \r\n    }\r\n\r\n\r\n  return (\r\n    <Stack alignItems='center' mt='37px'\r\n    justifyContent='center' p='20px'>\r\n      <Typography \r\n      fontWeight={700}\r\n      sx={{\r\n        fontSize: { lg: '44px', xs: '30px' }\r\n      }}\r\n      mb='50px' textAlign='center'>\r\n        Awesome Recipes You <br/> Should Try\r\n      </Typography>\r\n      <Box position='relative' mb='72px'>\r\n        <TextField \r\n        sx={{\r\n          input: { fontWeight: '700', border: 'none', borderRadius: '4px' },\r\n          width: { lg: '800px', xs:'350px' },\r\n          backgroundColor: '#fff',\r\n          borderRadius: '40px'\r\n        }}\r\n          heigth='76px'\r\n          value={search}\r\n          onChange={e => setSearch(e.target.value.toLowerCase())}  \r\n          placeholder='Search Recipes'\r\n          type='text'\r\n        />\r\n        <Button className='search-btn'\r\n        sx={{\r\n          bgcolor: '#38b54a',\r\n          color: '#fff',\r\n          textTransform: 'none',\r\n          width: { lg: '175px', xs: '80px' },\r\n          fontSize: { lg: '20px', xs: '14px' },\r\n          height: '56px',\r\n          position: 'absolute',\r\n          right: '0'\r\n        }}\r\n        onClick={handleSearch}>\r\n          Search\r\n        </Button>\r\n        {/* <Button className='search-btn'\r\n        sx={{\r\n          bgcolor: '#38451a',\r\n          color: '#fff',\r\n          textTransform: 'none',\r\n          width: { lg: '175px', xs: '80px' },\r\n          fontSize: { lg: '20px', xs: '14px' },\r\n          height: '56px',\r\n          position: 'absolute',\r\n          right: '-175px'\r\n        }}\r\n        onClick={() => {\r\n          setNewImages(!newImages)\r\n          console.log(newImages)\r\n        }}\r\n        >\r\n          Better Images\r\n        </Button> */}\r\n        <Stack direction='row' sx={{\r\n          position: 'absolute',\r\n          right: '-186px',\r\n          bottom: '10px'\r\n        }}\r\n          alignItems='center'>\r\n          <Switch\r\n            // color='warning'\r\n            sx={{\r\n              color: '#fff',\r\n              textTransform: 'none',\r\n              // position: 'absolute',\r\n              // right: '-68px'\r\n            }}\r\n            checked={improveImages}\r\n            onClick={() => {\r\n              setImproveImages(!improveImages)\r\n              console.log(improveImages)\r\n            }}\r\n            inputProps={{ 'aria-label': 'controlled' }}\r\n          />\r\n          <Typography fontWeight={600}>Improve images</Typography>\r\n        </Stack>\r\n      </Box>\r\n      <Box sx={{ position: 'relative', width: '100%', p: '20px' }}>\r\n        <HorizontalScrollBar data={randomRecipe} />\r\n      </Box>\r\n    </Stack>\r\n  )\r\n}\r\n\r\nexport default SearchRecipes"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}